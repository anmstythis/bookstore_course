## BookMix

Краткая карта проекта с назначением основных директорий и файлов.

### Корень репозитория
- `backend/`: серверная часть (Node.js + Express), REST API, БД, тесты.
- `frontend/`: клиентская часть (React), пользовательский интерфейс.
- `docker-compose.yaml`: состав сервисов для контейнеризации (если используется).
- `README.md`: описание проекта и структуры (этот файл).

### Backend (`backend/`)
- `server.js`: точка входа HTTP‑сервера; подключение middleware и маршрутов.
- `routes/`: обработчики REST‑эндпоинтов по доменам:
  - `auth.js`: аутентификация (логин/регистрация/токены).
  - `users.js`: пользователи и их данные.
  - `accounts.js`: аккаунты/профили.
  - `books.js`, `authors.js`, `categories.js`, `publishers.js`: каталог книг и справочники.
  - `orders.js`, `deliverytypes.js`, `statuses.js`: заказы, типы доставки, статусы.
  - `reviews.js`: отзывы.
  - `roles.js`: роли/права доступа.
  - `auditLog.js`: аудит действий.
  - `reports.js`: отчеты и агрегированная аналитика.
- `db.js`: подключение к базе данных (пул соединений).
- `swagger.js`: описание/экспорт Swagger/OpenAPI для документации API.
- `metrics.js`: метрики/health‑checks (если задействованы).
- `uploads/`: хранилище загруженных файлов (например, обложек).
- `backup/`: утилиты и дампы для резервного копирования (`backup.js`, `bookmix_backup.sql`).
- `test/`: автотесты (Vitest) для роутов и утилит.
  - `test/utils/createApp.js`: конструктор тестового приложения.
  - `test/routes/*.test.js`: тесты API по разделам.
- `Dockerfile`: контейнер для бэкенда.
- `package.json`: зависимости и npm‑скрипты бэкенда.
- `vitest.config.js`: конфигурация тестов.

### Frontend (`frontend/`)
- `src/`: исходники React‑приложения.
  - `pages/`: страницы (каталог, карточка товара, корзина, заказы, логин/регистрация и т. п.).
  - `components/`: переиспользуемые компоненты (формы, карточки, списки, хедер/футер и др.).
  - `utils/`: утилиты работы с данными (книги, корзина, избранное, отзывы, пользователь).
  - `axiosSetup.js`: базовая настройка HTTP‑клиента (базовый URL, интерсепторы).
  - `App.js`, `index.js`: корневые компоненты и инициализация приложения.
  - `App.css`, `index.css`: стили.
- `public/`: статические файлы и манифест PWA.
- `Dockerfile`: контейнер для фронтенда.
- `package.json`: зависимости и npm‑скрипты фронтенда.

### Поток данных (в общем виде)
1. Клиент (`frontend`) отправляет запросы к REST API через `axiosSetup.js`.
2. Сервер (`backend/server.js`) маршрутизирует запросы в соответствующие файлы `routes/*`.
3. Роуты обращаются к базе данных через `db.js` и возвращают JSON‑ответ.
4. Тесты (`test/routes/*.test.js`) проверяют корректность основных сценариев API.

### Примечания
- Документация API формируется через `swagger.js` (конкретный путь зависит от конфигурации).
- Каталог `uploads/` предназначен для загружаемых файлов и обычно исключается из VCS.
- Каталог `backup/` хранит скрипты и дампы для восстановления/миграций базы.
