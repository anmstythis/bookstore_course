{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\My\\\\OneDrive\\\\\\u0414\\u043E\\u043A\\u0443\\u043C\\u0435\\u043D\\u0442\\u044B\\\\\\u043A\\u043E\\u043D\\u0441\\u043F\\u0435\\u043A\\u0442\\u044B\\\\\\u0434\\u043E\\u043A\\u0443\\u043C\\u0435\\u043D\\u0442\\u044B \\u043A \\u043A\\u0443\\u0440\\u0441\\u0430\\u0447\\u0443 4 \\u043A\\u0443\\u0440\\u0441\\\\project\\\\bookmix\\\\src\\\\pages\\\\ProductInfo.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport { useParams } from 'react-router-dom';\nimport axios from 'axios';\nimport Footer from '../components/Footer.js';\nimport Header from '../components/Header.js';\nimport { motion } from \"framer-motion\";\nimport Form from '../components/Form.js';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ProductInfo = () => {\n  _s();\n  const {\n    id\n  } = useParams();\n  const [book, setBook] = useState(null);\n  const [error, setError] = useState(null);\n  const [reviews, setReviews] = useState([]);\n  const [reviewsError, setReviewsError] = useState(null);\n  const [isSubmittingReview, setIsSubmittingReview] = useState(false);\n  const [isDeletingReviewId, setIsDeletingReviewId] = useState(null);\n  const [rating, setRating] = useState(5);\n  const [comment, setComment] = useState('');\n  useEffect(() => {\n    const fetchBook = async () => {\n      try {\n        const response = await axios.get(`http://localhost:5000/api/books/${id}`);\n        if (!response.data) throw new Error(\"Такой книги нет!\");\n        const row = response.data;\n        const authorResponse = await axios.get(`http://localhost:5000/api/authors/${row.author_id}`);\n        const author = authorResponse.data;\n        const mapped = {\n          id: row.id_book,\n          name: row.title,\n          authorId: row.author_id,\n          author: author ? `${author.firstname} ${author.patronymic ? author.patronymic : ' '} ${author.lastname} \n        (${author.birthdate ? author.birthdate.substring(0, 4) : '???'} - \n            ${author.deathdate ? author.deathdate.substring(0, 4) : 'н.в.'})` : 'Неизвестный автор',\n          country: row.country,\n          price: Number(row.price),\n          url: row.imageurl,\n          description: row.description,\n          addedToCart: row.addedtocart || false,\n          addedAmount: row.addedamount || 0,\n          isFavorite: row.isfavorite || false\n        };\n        setBook(mapped);\n      } catch (err) {\n        console.error(\"Ошибка при загрузке:\", err);\n        setError(err.message);\n      }\n    };\n    fetchBook();\n  }, [id]);\n  useEffect(() => {\n    const fetchReviews = async () => {\n      try {\n        if (!id) return;\n        const {\n          data\n        } = await axios.get(`http://localhost:5000/api/reviews/book/${id}`);\n        setReviews(Array.isArray(data) ? data : []);\n      } catch (err) {\n        console.error('Ошибка при загрузке отзывов:', err);\n        setReviewsError('Не удалось загрузить отзывы');\n      }\n    };\n    fetchReviews();\n  }, [id]);\n  const handleSubmitReview = async e => {\n    e.preventDefault();\n    if (!book) return;\n    const storedUserString = localStorage.getItem('user');\n    const storedUser = storedUserString ? JSON.parse(storedUserString) : null;\n    if (!(storedUser !== null && storedUser !== void 0 && storedUser.id_user)) {\n      setReviewsError('Для отправки отзыва необходимо войти в систему');\n      return;\n    }\n    try {\n      setIsSubmittingReview(true);\n      setReviewsError(null);\n      await axios.post('http://localhost:5000/api/reviews', {\n        user_id: storedUser.id_user,\n        book_id: book.id,\n        rating: Number(rating),\n        usercomment: comment\n      });\n      const {\n        data\n      } = await axios.get(`http://localhost:5000/api/reviews/book/${book.id}`);\n      setReviews(Array.isArray(data) ? data : []);\n      setRating(5);\n      setComment('');\n    } catch (err) {\n      console.error('Ошибка при отправке отзыва:', err);\n      setReviewsError('Не удалось отправить отзыв');\n    } finally {\n      setIsSubmittingReview(false);\n    }\n  };\n  const handleDeleteReview = async reviewId => {\n    const storedUserString = localStorage.getItem('user');\n    const storedUser = storedUserString ? JSON.parse(storedUserString) : null;\n    if (!(storedUser !== null && storedUser !== void 0 && storedUser.id_user)) {\n      setReviewsError('Необходимо войти, чтобы удалять отзывы');\n      return;\n    }\n    try {\n      setIsDeletingReviewId(reviewId);\n      setReviewsError(null);\n      await axios.delete(`http://localhost:5000/api/reviews/${reviewId}`);\n      const {\n        data\n      } = await axios.get(`http://localhost:5000/api/reviews/book/${id}`);\n      setReviews(Array.isArray(data) ? data : []);\n    } catch (err) {\n      console.error('Ошибка при удалении отзыва:', err);\n      setReviewsError('Не удалось удалить отзыв');\n    } finally {\n      setIsDeletingReviewId(null);\n    }\n  };\n\n  // корзина\n  const addToCart = () => {\n    if (!book) return;\n    const updated = {\n      ...book,\n      addedToCart: true,\n      addedAmount: (book.addedAmount || 0) + 1\n    };\n    setBook(updated);\n    axios.put(`http://localhost:5000/api/books/${book.id}`, updated).catch(console.error);\n  };\n  const removeFromCart = () => {\n    if (!book) return;\n    const updatedAmount = Math.max((book.addedAmount || 0) - 1, 0);\n    const updated = {\n      ...book,\n      addedAmount: updatedAmount,\n      addedToCart: updatedAmount > 0\n    };\n    setBook(updated);\n    axios.put(`http://localhost:5000/api/books/${book.id}`, updated).catch(console.error);\n  };\n\n  // избранное\n  const toggleFavorite = () => {\n    if (!book) return;\n    const updated = {\n      ...book,\n      isFavorite: !book.isFavorite\n    };\n    setBook(updated);\n    axios.put(`http://localhost:5000/api/books/${book.id}`, updated).catch(console.error);\n  };\n  if (error) return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"welcome\",\n    children: [\"\\u041E\\u0448\\u0438\\u0431\\u043A\\u0430: \", error]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 161,\n    columnNumber: 21\n  }, this);\n  if (!book) return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"welcome\",\n    children: \"\\u0417\\u0430\\u0433\\u0440\\u0443\\u0437\\u043A\\u0430...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 162,\n    columnNumber: 21\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(Header, {\n      title: \"\\u0421\\u0432\\u0435\\u0434\\u0435\\u043D\\u0438\\u044F \\u043E \\u043A\\u043D\\u0438\\u0433\\u0435\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(motion.div, {\n      className: \"productInfoCard\",\n      initial: {\n        opacity: 0,\n        scale: 0\n      },\n      animate: {\n        opacity: 1,\n        scale: 1\n      },\n      transition: {\n        delay: 0.5,\n        duration: 1\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        className: \"prodImg\",\n        src: book.url,\n        alt: book.name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: book.isFavorite ? 'favButton2' : 'notFavButton2',\n        onClick: toggleFavorite,\n        children: \"\\u2764\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"titleProd\",\n        children: [\"\\u041D\\u0430\\u0437\\u0432\\u0430\\u043D\\u0438\\u0435: \", book.name]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 183,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"authorProd\",\n        children: [\"\\u0410\\u0432\\u0442\\u043E\\u0440: \", book.author]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 9\n      }, this), book.country && /*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"countryProd\",\n        children: [\"\\u0421\\u0442\\u0440\\u0430\\u043D\\u0430: \", book.country]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 185,\n        columnNumber: 26\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"buttons2\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"cartButton\",\n          onClick: addToCart,\n          children: \"+\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 188,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"amount\",\n          children: book.addedAmount\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 189,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"cartButton\",\n          onClick: removeFromCart,\n          children: \"-\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 190,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"descrProd\",\n        children: book.description\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"reviewsSection\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"welcome\",\n        children: \"\\u041E\\u0442\\u0437\\u044B\\u0432\\u044B\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 197,\n        columnNumber: 9\n      }, this), reviews.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"head\",\n        children: \"\\u041F\\u043E\\u043A\\u0430 \\u043D\\u0435\\u0442 \\u043E\\u0442\\u0437\\u044B\\u0432\\u043E\\u0432.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 199,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"ul\", {\n        className: \"reviewsList\",\n        children: reviews.map(rev => {\n          const storedUserString = localStorage.getItem('user');\n          const storedUser = storedUserString ? JSON.parse(storedUserString) : null;\n          const isMyReview = (storedUser === null || storedUser === void 0 ? void 0 : storedUser.id_user) && rev.user_id === storedUser.id_user;\n          return /*#__PURE__*/_jsxDEV(\"li\", {\n            className: \"reviewItem\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"reviewHeader\",\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: [rev.firstname, \" \", rev.lastname]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 209,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: [\"\\u041E\\u0446\\u0435\\u043D\\u043A\\u0430: \", rev.rating]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 210,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: new Date(rev.reviewdate).toLocaleDateString()\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 211,\n                columnNumber: 21\n              }, this), isMyReview && /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                className: \"menuItemDanger\",\n                onClick: () => handleDeleteReview(rev.id_review),\n                disabled: isDeletingReviewId === rev.id_review,\n                children: isDeletingReviewId === rev.id_review ? 'Удаление...' : 'Удалить'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 213,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 208,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"reviewComment\",\n              children: rev.usercomment\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 223,\n              columnNumber: 19\n            }, this)]\n          }, rev.id_review, true, {\n            fileName: _jsxFileName,\n            lineNumber: 207,\n            columnNumber: 17\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"formContainer\",\n        children: /*#__PURE__*/_jsxDEV(Form, {\n          onSubmit: handleSubmitReview,\n          loading: isSubmittingReview,\n          error: reviewsError || '',\n          submitLabel: \"\\u041E\\u0442\\u043F\\u0440\\u0430\\u0432\\u0438\\u0442\\u044C \\u043E\\u0442\\u0437\\u044B\\u0432\",\n          loadingLabel: \"\\u041E\\u0442\\u043F\\u0440\\u0430\\u0432\\u043A\\u0430...\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"formLabel\",\n            role: \"radiogroup\",\n            \"aria-label\": \"\\u041E\\u0446\\u0435\\u043D\\u043A\\u0430\",\n            children: [1, 2, 3, 4, 5].map(value => /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              className: value <= Number(rating) ? 'favButton' : 'notFavButton',\n              \"aria-checked\": value === Number(rating),\n              role: \"radio\",\n              onClick: () => !isSubmittingReview && setRating(value),\n              disabled: isSubmittingReview,\n              children: value <= Number(rating) ? '★' : '☆'\n            }, value, false, {\n              fileName: _jsxFileName,\n              lineNumber: 239,\n              columnNumber: 17\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 237,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n            className: \"formInput\",\n            value: comment,\n            onChange: e => setComment(e.target.value),\n            placeholder: \"\\u041F\\u043E\\u0434\\u0435\\u043B\\u0438\\u0442\\u0435\\u0441\\u044C \\u0432\\u043F\\u0435\\u0447\\u0430\\u0442\\u043B\\u0435\\u043D\\u0438\\u0435\\u043C \\u043E \\u043A\\u043D\\u0438\\u0433\\u0435\",\n            rows: 4,\n            disabled: isSubmittingReview\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 252,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 230,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 229,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 196,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(motion.div, {\n      initial: {\n        y: 1000\n      },\n      animate: {\n        y: 0\n      },\n      transition: {\n        duration: 1.5\n      },\n      children: /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 268,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 263,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 165,\n    columnNumber: 5\n  }, this);\n};\n_s(ProductInfo, \"BOOBQKDckqGd2wBeN2xmuy62Z5k=\", false, function () {\n  return [useParams];\n});\n_c = ProductInfo;\nexport default ProductInfo;\nvar _c;\n$RefreshReg$(_c, \"ProductInfo\");","map":{"version":3,"names":["React","useEffect","useState","useParams","axios","Footer","Header","motion","Form","jsxDEV","_jsxDEV","ProductInfo","_s","id","book","setBook","error","setError","reviews","setReviews","reviewsError","setReviewsError","isSubmittingReview","setIsSubmittingReview","isDeletingReviewId","setIsDeletingReviewId","rating","setRating","comment","setComment","fetchBook","response","get","data","Error","row","authorResponse","author_id","author","mapped","id_book","name","title","authorId","firstname","patronymic","lastname","birthdate","substring","deathdate","country","price","Number","url","imageurl","description","addedToCart","addedtocart","addedAmount","addedamount","isFavorite","isfavorite","err","console","message","fetchReviews","Array","isArray","handleSubmitReview","e","preventDefault","storedUserString","localStorage","getItem","storedUser","JSON","parse","id_user","post","user_id","book_id","usercomment","handleDeleteReview","reviewId","delete","addToCart","updated","put","catch","removeFromCart","updatedAmount","Math","max","toggleFavorite","className","children","fileName","_jsxFileName","lineNumber","columnNumber","div","initial","opacity","scale","animate","transition","delay","duration","src","alt","onClick","length","map","rev","isMyReview","Date","reviewdate","toLocaleDateString","type","id_review","disabled","onSubmit","loading","submitLabel","loadingLabel","role","value","onChange","target","placeholder","rows","y","_c","$RefreshReg$"],"sources":["C:/Users/My/OneDrive/Документы/конспекты/документы к курсачу 4 курс/project/bookmix/src/pages/ProductInfo.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { useParams } from 'react-router-dom';\nimport axios from 'axios';\nimport Footer from '../components/Footer.js';\nimport Header from '../components/Header.js';\nimport { motion } from \"framer-motion\";\nimport Form from '../components/Form.js';\n\nconst ProductInfo = () => {\n  const { id } = useParams(); \n  const [book, setBook] = useState(null);\n  const [error, setError] = useState(null);\n  const [reviews, setReviews] = useState([]);\n  const [reviewsError, setReviewsError] = useState(null);\n  const [isSubmittingReview, setIsSubmittingReview] = useState(false);\n  const [isDeletingReviewId, setIsDeletingReviewId] = useState(null);\n  const [rating, setRating] = useState(5);\n  const [comment, setComment] = useState('');\n\n  useEffect(() => {\n  const fetchBook = async () => {\n    try {\n      const response = await axios.get(`http://localhost:5000/api/books/${id}`);\n      if (!response.data) throw new Error(\"Такой книги нет!\");\n      const row = response.data;\n\n      const authorResponse = await axios.get(`http://localhost:5000/api/authors/${row.author_id}`);\n      const author = authorResponse.data;\n\n      const mapped = {\n        id: row.id_book,\n        name: row.title,\n        authorId: row.author_id,\n        author: author ? `${author.firstname} ${author.patronymic ? author.patronymic : ' '} ${author.lastname} \n        (${author.birthdate ? author.birthdate.substring(0, 4) : '???'} - \n            ${author.deathdate ? author.deathdate.substring(0, 4) : 'н.в.'})` : 'Неизвестный автор',\n        country: row.country,\n        price: Number(row.price),\n        url: row.imageurl,\n        description: row.description,\n        addedToCart: row.addedtocart || false,\n        addedAmount: row.addedamount || 0,\n        isFavorite: row.isfavorite || false\n      };\n\n      setBook(mapped);\n    } catch (err) {\n      console.error(\"Ошибка при загрузке:\", err);\n      setError(err.message);\n    }\n  };\n\n  fetchBook();\n}, [id]);\n\n\n  useEffect(() => {\n  const fetchReviews = async () => {\n    try {\n      if (!id) return;\n      const { data } = await axios.get(`http://localhost:5000/api/reviews/book/${id}`);\n      setReviews(Array.isArray(data) ? data : []);\n    } catch (err) {\n      console.error('Ошибка при загрузке отзывов:', err);\n      setReviewsError('Не удалось загрузить отзывы');\n    }\n  };\n\n  fetchReviews();\n}, [id]);\n\n  const handleSubmitReview = async (e) => {\n    e.preventDefault();\n    if (!book) return;\n    const storedUserString = localStorage.getItem('user');\n    const storedUser = storedUserString ? JSON.parse(storedUserString) : null;\n    if (!storedUser?.id_user) {\n      setReviewsError('Для отправки отзыва необходимо войти в систему');\n      return;\n    }\n\n    try {\n      setIsSubmittingReview(true);\n      setReviewsError(null);\n      await axios.post('http://localhost:5000/api/reviews', {\n        user_id: storedUser.id_user,\n        book_id: book.id,\n        rating: Number(rating),\n        usercomment: comment\n      });\n\n      const { data } = await axios.get(`http://localhost:5000/api/reviews/book/${book.id}`);\n      setReviews(Array.isArray(data) ? data : []);\n      setRating(5);\n      setComment('');\n    } catch (err) {\n      console.error('Ошибка при отправке отзыва:', err);\n      setReviewsError('Не удалось отправить отзыв');\n    } finally {\n      setIsSubmittingReview(false);\n    }\n  };\n\n  const handleDeleteReview = async (reviewId) => {\n    const storedUserString = localStorage.getItem('user');\n    const storedUser = storedUserString ? JSON.parse(storedUserString) : null;\n    if (!storedUser?.id_user) {\n      setReviewsError('Необходимо войти, чтобы удалять отзывы');\n      return;\n    }\n\n    try {\n      setIsDeletingReviewId(reviewId);\n      setReviewsError(null);\n      await axios.delete(`http://localhost:5000/api/reviews/${reviewId}`);\n      const { data } = await axios.get(`http://localhost:5000/api/reviews/book/${id}`);\n      setReviews(Array.isArray(data) ? data : []);\n    } catch (err) {\n      console.error('Ошибка при удалении отзыва:', err);\n      setReviewsError('Не удалось удалить отзыв');\n    } finally {\n      setIsDeletingReviewId(null);\n    }\n  };\n\n\n  // корзина\n  const addToCart = () => {\n    if (!book) return;\n    const updated = {\n      ...book,\n      addedToCart: true,\n      addedAmount: (book.addedAmount || 0) + 1\n    };\n\n    setBook(updated);\n    axios.put(`http://localhost:5000/api/books/${book.id}`, updated).catch(console.error);\n  };\n\n  const removeFromCart = () => {\n    if (!book) return;\n    const updatedAmount = Math.max((book.addedAmount || 0) - 1, 0);\n    const updated = {\n      ...book,\n      addedAmount: updatedAmount,\n      addedToCart: updatedAmount > 0\n    };\n\n    setBook(updated);\n    axios.put(`http://localhost:5000/api/books/${book.id}`, updated).catch(console.error);\n  };\n\n  // избранное\n  const toggleFavorite = () => {\n    if (!book) return;\n    const updated = { ...book, isFavorite: !book.isFavorite };\n    setBook(updated);\n    axios.put(`http://localhost:5000/api/books/${book.id}`, updated).catch(console.error);\n  };\n\n  if (error) return <div className='welcome'>Ошибка: {error}</div>;\n  if (!book) return <div className='welcome'>Загрузка...</div>;\n\n  return (\n    <div>\n      <Header title=\"Сведения о книге\" />\n\n      <motion.div\n        className='productInfoCard'\n        initial={{ opacity: 0, scale: 0 }}\n        animate={{ opacity: 1, scale: 1 }}\n        transition={{ delay: 0.5, duration: 1 }}\n      >\n        <img className='prodImg' src={book.url} alt={book.name} />\n\n        <button\n          className={book.isFavorite ? 'favButton2' : 'notFavButton2'}\n          onClick={toggleFavorite}\n        >\n          ❤\n        </button>\n\n        <h2 className='titleProd'>Название: {book.name}</h2>\n        <h2 className='authorProd'>Автор: {book.author}</h2>\n        {book.country && <h2 className='countryProd'>Страна: {book.country}</h2>}\n\n        <div className='buttons2'>\n          <button className='cartButton' onClick={addToCart}>+</button>\n          <span className='amount'>{book.addedAmount}</span>\n          <button className='cartButton' onClick={removeFromCart}>-</button>\n        </div>\n\n        <p className='descrProd'>{book.description}</p>\n      </motion.div>\n\n      <div className='reviewsSection'>\n        <h3 className='welcome'>Отзывы</h3>\n          {reviews.length === 0 ? (\n          <p className='head'>Пока нет отзывов.</p>\n        ) : (\n          <ul className='reviewsList'>\n            {reviews.map((rev) => {\n              const storedUserString = localStorage.getItem('user');\n              const storedUser = storedUserString ? JSON.parse(storedUserString) : null;\n              const isMyReview = storedUser?.id_user && rev.user_id === storedUser.id_user;\n              return (\n                <li key={rev.id_review} className='reviewItem'>\n                  <div className='reviewHeader'>\n                    <strong>{rev.firstname} {rev.lastname}</strong>\n                    <span>Оценка: {rev.rating}</span>\n                    <span>{new Date(rev.reviewdate).toLocaleDateString()}</span>\n                    {isMyReview && (\n                      <button\n                        type='button'\n                        className='menuItemDanger'\n                        onClick={() => handleDeleteReview(rev.id_review)}\n                        disabled={isDeletingReviewId === rev.id_review}\n                      >\n                        {isDeletingReviewId === rev.id_review ? 'Удаление...' : 'Удалить'}\n                      </button>\n                    )}\n                  </div>\n                  <div className='reviewComment'>{rev.usercomment}</div>\n                </li>\n              );\n            })}\n          </ul>\n        )}\n        <div className='formContainer'>\n          <Form\n            onSubmit={handleSubmitReview}\n            loading={isSubmittingReview}\n            error={reviewsError || ''}\n            submitLabel=\"Отправить отзыв\"\n            loadingLabel=\"Отправка...\"\n          >\n            <div className='formLabel' role='radiogroup' aria-label='Оценка'>\n              {[1,2,3,4,5].map((value) => (\n                <button\n                  key={value}\n                  type='button'\n                  className={value <= Number(rating) ? 'favButton' : 'notFavButton'}\n                  aria-checked={value === Number(rating)}\n                  role='radio'\n                  onClick={() => !isSubmittingReview && setRating(value)}\n                  disabled={isSubmittingReview}\n                >\n                  {value <= Number(rating) ? '★' : '☆'}\n                </button>\n              ))}\n            </div>\n            <textarea className='formInput'\n              value={comment}\n              onChange={(e) => setComment(e.target.value)}\n              placeholder='Поделитесь впечатлением о книге'\n              rows={4}\n              disabled={isSubmittingReview}\n            />\n          </Form>\n        </div>\n      </div>\n\n      <motion.div\n        initial={{ y: 1000 }}\n        animate={{ y: 0 }}\n        transition={{ duration: 1.5 }}\n      >\n        <Footer />\n      </motion.div>\n    </div>\n  );\n};\n\nexport default ProductInfo;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}