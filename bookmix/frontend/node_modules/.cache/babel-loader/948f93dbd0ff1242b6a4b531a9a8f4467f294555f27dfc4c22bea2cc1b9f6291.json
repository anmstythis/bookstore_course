{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\My\\\\OneDrive\\\\\\u0414\\u043E\\u043A\\u0443\\u043C\\u0435\\u043D\\u0442\\u044B\\\\\\u043A\\u043E\\u043D\\u0441\\u043F\\u0435\\u043A\\u0442\\u044B\\\\\\u0434\\u043E\\u043A\\u0443\\u043C\\u0435\\u043D\\u0442\\u044B \\u043A \\u043A\\u0443\\u0440\\u0441\\u0430\\u0447\\u0443 4 \\u043A\\u0443\\u0440\\u0441\\\\project\\\\bookmix\\\\src\\\\pages\\\\ProductInfo.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport { useParams } from 'react-router-dom';\nimport axios from 'axios';\nimport Footer from '../components/Footer.js';\nimport Header from '../components/Header.js';\nimport { motion } from \"framer-motion\";\nimport FormWrapper from '../components/Form.js';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ProductInfo = () => {\n  _s();\n  const {\n    id\n  } = useParams();\n  const [book, setBook] = useState(null);\n  const [error, setError] = useState(null);\n  const [reviews, setReviews] = useState([]);\n  const [reviewsError, setReviewsError] = useState(null);\n  const [isSubmittingReview, setIsSubmittingReview] = useState(false);\n  const [rating, setRating] = useState(5);\n  const [comment, setComment] = useState('');\n  useEffect(() => {\n    const fetchBook = async () => {\n      try {\n        const response = await axios.get(`http://localhost:5000/api/books/${id}`);\n        if (!response.data) throw new Error(\"Такой книги нет!\");\n        const row = response.data;\n        const authorResponse = await axios.get(`http://localhost:5000/api/authors/${row.author_id}`);\n        const author = authorResponse.data;\n        const mapped = {\n          id: row.id_book,\n          name: row.title,\n          authorId: row.author_id,\n          author: author ? `${author.firstname} ${author.patronymic ? author.patronymic : ' '} ${author.lastname} \n        (${author.birthdate ? author.birthdate.substring(0, 4) : '???'} - \n            ${author.deathdate ? author.deathdate.substring(0, 4) : 'н.в.'})` : 'Неизвестный автор',\n          country: row.country,\n          price: Number(row.price),\n          url: row.imageurl,\n          description: row.description,\n          addedToCart: row.addedtocart || false,\n          addedAmount: row.addedamount || 0,\n          isFavorite: row.isfavorite || false\n        };\n        setBook(mapped);\n      } catch (err) {\n        console.error(\"Ошибка при загрузке:\", err);\n        setError(err.message);\n      }\n    };\n    fetchBook();\n  }, [id]);\n  useEffect(() => {\n    const fetchReviews = async () => {\n      try {\n        if (!id) return;\n        const {\n          data\n        } = await axios.get(`http://localhost:5000/api/reviews/book/${id}`);\n        setReviews(Array.isArray(data) ? data : []);\n      } catch (err) {\n        console.error('Ошибка при загрузке отзывов:', err);\n        setReviewsError('Не удалось загрузить отзывы');\n      }\n    };\n    fetchReviews();\n  }, [id]);\n  const handleSubmitReview = async e => {\n    e.preventDefault();\n    if (!book) return;\n    const storedUserString = localStorage.getItem('user');\n    const storedUser = storedUserString ? JSON.parse(storedUserString) : null;\n    if (!(storedUser !== null && storedUser !== void 0 && storedUser.id_user)) {\n      setReviewsError('Для отправки отзыва необходимо войти в систему');\n      return;\n    }\n    try {\n      setIsSubmittingReview(true);\n      setReviewsError(null);\n      await axios.post('http://localhost:5000/api/reviews', {\n        user_id: storedUser.id_user,\n        book_id: book.id,\n        rating: Number(rating),\n        usercomment: comment\n      });\n      const {\n        data\n      } = await axios.get(`http://localhost:5000/api/reviews/book/${book.id}`);\n      setReviews(Array.isArray(data) ? data : []);\n      setRating(5);\n      setComment('');\n    } catch (err) {\n      console.error('Ошибка при отправке отзыва:', err);\n      setReviewsError('Не удалось отправить отзыв');\n    } finally {\n      setIsSubmittingReview(false);\n    }\n  };\n\n  // корзина\n  const addToCart = () => {\n    if (!book) return;\n    const updated = {\n      ...book,\n      addedToCart: true,\n      addedAmount: (book.addedAmount || 0) + 1\n    };\n    setBook(updated);\n    axios.put(`http://localhost:5000/api/books/${book.id}`, updated).catch(console.error);\n  };\n  const removeFromCart = () => {\n    if (!book) return;\n    const updatedAmount = Math.max((book.addedAmount || 0) - 1, 0);\n    const updated = {\n      ...book,\n      addedAmount: updatedAmount,\n      addedToCart: updatedAmount > 0\n    };\n    setBook(updated);\n    axios.put(`http://localhost:5000/api/books/${book.id}`, updated).catch(console.error);\n  };\n\n  // избранное\n  const toggleFavorite = () => {\n    if (!book) return;\n    const updated = {\n      ...book,\n      isFavorite: !book.isFavorite\n    };\n    setBook(updated);\n    axios.put(`http://localhost:5000/api/books/${book.id}`, updated).catch(console.error);\n  };\n  if (error) return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"welcome\",\n    children: [\"\\u041E\\u0448\\u0438\\u0431\\u043A\\u0430: \", error]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 138,\n    columnNumber: 21\n  }, this);\n  if (!book) return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"welcome\",\n    children: \"\\u0417\\u0430\\u0433\\u0440\\u0443\\u0437\\u043A\\u0430...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 139,\n    columnNumber: 21\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(Header, {\n      title: \"\\u0421\\u0432\\u0435\\u0434\\u0435\\u043D\\u0438\\u044F \\u043E \\u043A\\u043D\\u0438\\u0433\\u0435\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(motion.div, {\n      className: \"productInfoCard\",\n      initial: {\n        opacity: 0,\n        scale: 0\n      },\n      animate: {\n        opacity: 1,\n        scale: 1\n      },\n      transition: {\n        delay: 0.5,\n        duration: 1\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        className: \"prodImg\",\n        src: book.url,\n        alt: book.name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: book.isFavorite ? 'favButton2' : 'notFavButton2',\n        onClick: toggleFavorite,\n        children: \"\\u2764\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"titleProd\",\n        children: [\"\\u041D\\u0430\\u0437\\u0432\\u0430\\u043D\\u0438\\u0435: \", book.name]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"authorProd\",\n        children: [\"\\u0410\\u0432\\u0442\\u043E\\u0440: \", book.author]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 9\n      }, this), book.country && /*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"countryProd\",\n        children: [\"\\u0421\\u0442\\u0440\\u0430\\u043D\\u0430: \", book.country]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 26\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"buttons2\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"cartButton\",\n          onClick: addToCart,\n          children: \"+\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 165,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"amount\",\n          children: book.addedAmount\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 166,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"cartButton\",\n          onClick: removeFromCart,\n          children: \"-\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 167,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"descrProd\",\n        children: book.description\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"reviewsSection\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"\\u041E\\u0442\\u0437\\u044B\\u0432\\u044B\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 9\n      }, this), reviewsError && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"error\",\n        children: reviewsError\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 26\n      }, this), reviews.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"\\u041F\\u043E\\u043A\\u0430 \\u043D\\u0435\\u0442 \\u043E\\u0442\\u0437\\u044B\\u0432\\u043E\\u0432.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(FormWrapper, {\n        onSubmit: handleSubmitReview,\n        loading: isSubmittingReview,\n        error: reviewsError || '',\n        submitLabel: \"\\u041E\\u0442\\u043F\\u0440\\u0430\\u0432\\u0438\\u0442\\u044C \\u043E\\u0442\\u0437\\u044B\\u0432\",\n        loadingLabel: \"\\u041E\\u0442\\u043F\\u0440\\u0430\\u0432\\u043A\\u0430...\",\n        formClassName: \"reviewForm\",\n        buttonClassName: \"reviewSubmitButton\",\n        errorClassName: \"error\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"formLabel\",\n          children: [\"\\u041E\\u0446\\u0435\\u043D\\u043A\\u0430:\", /*#__PURE__*/_jsxDEV(\"select\", {\n            value: rating,\n            onChange: e => setRating(e.target.value),\n            disabled: isSubmittingReview,\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: 5,\n              children: \"5\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 192,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: 4,\n              children: \"4\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 193,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: 3,\n              children: \"3\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 194,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: 2,\n              children: \"2\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 195,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: 1,\n              children: \"1\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 196,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 191,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 189,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"formLabel\",\n          children: \"\\u041A\\u043E\\u043C\\u043C\\u0435\\u043D\\u0442\\u0430\\u0440\\u0438\\u0439\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 199,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n          className: \"formInput\",\n          value: comment,\n          onChange: e => setComment(e.target.value),\n          placeholder: \"\\u041F\\u043E\\u0434\\u0435\\u043B\\u0438\\u0442\\u0435\\u0441\\u044C \\u0432\\u043F\\u0435\\u0447\\u0430\\u0442\\u043B\\u0435\\u043D\\u0438\\u0435\\u043C \\u043E \\u043A\\u043D\\u0438\\u0433\\u0435\",\n          rows: 4,\n          disabled: isSubmittingReview\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 200,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(motion.div, {\n      initial: {\n        y: 1000\n      },\n      animate: {\n        y: 0\n      },\n      transition: {\n        duration: 1.5\n      },\n      children: /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 215,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 210,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 142,\n    columnNumber: 5\n  }, this);\n};\n_s(ProductInfo, \"AgQDp3HWRBcvU/rlqTXn8SJyyz8=\", false, function () {\n  return [useParams];\n});\n_c = ProductInfo;\nexport default ProductInfo;\nvar _c;\n$RefreshReg$(_c, \"ProductInfo\");","map":{"version":3,"names":["React","useEffect","useState","useParams","axios","Footer","Header","motion","FormWrapper","jsxDEV","_jsxDEV","ProductInfo","_s","id","book","setBook","error","setError","reviews","setReviews","reviewsError","setReviewsError","isSubmittingReview","setIsSubmittingReview","rating","setRating","comment","setComment","fetchBook","response","get","data","Error","row","authorResponse","author_id","author","mapped","id_book","name","title","authorId","firstname","patronymic","lastname","birthdate","substring","deathdate","country","price","Number","url","imageurl","description","addedToCart","addedtocart","addedAmount","addedamount","isFavorite","isfavorite","err","console","message","fetchReviews","Array","isArray","handleSubmitReview","e","preventDefault","storedUserString","localStorage","getItem","storedUser","JSON","parse","id_user","post","user_id","book_id","usercomment","addToCart","updated","put","catch","removeFromCart","updatedAmount","Math","max","toggleFavorite","className","children","fileName","_jsxFileName","lineNumber","columnNumber","div","initial","opacity","scale","animate","transition","delay","duration","src","alt","onClick","length","onSubmit","loading","submitLabel","loadingLabel","formClassName","buttonClassName","errorClassName","value","onChange","target","disabled","placeholder","rows","y","_c","$RefreshReg$"],"sources":["C:/Users/My/OneDrive/Документы/конспекты/документы к курсачу 4 курс/project/bookmix/src/pages/ProductInfo.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { useParams } from 'react-router-dom';\nimport axios from 'axios';\nimport Footer from '../components/Footer.js';\nimport Header from '../components/Header.js';\nimport { motion } from \"framer-motion\";\nimport FormWrapper from '../components/Form.js';\n\nconst ProductInfo = () => {\n  const { id } = useParams(); \n  const [book, setBook] = useState(null);\n  const [error, setError] = useState(null);\n  const [reviews, setReviews] = useState([]);\n  const [reviewsError, setReviewsError] = useState(null);\n  const [isSubmittingReview, setIsSubmittingReview] = useState(false);\n  const [rating, setRating] = useState(5);\n  const [comment, setComment] = useState('');\n\n  useEffect(() => {\n  const fetchBook = async () => {\n    try {\n      const response = await axios.get(`http://localhost:5000/api/books/${id}`);\n      if (!response.data) throw new Error(\"Такой книги нет!\");\n      const row = response.data;\n\n      const authorResponse = await axios.get(`http://localhost:5000/api/authors/${row.author_id}`);\n      const author = authorResponse.data;\n\n      const mapped = {\n        id: row.id_book,\n        name: row.title,\n        authorId: row.author_id,\n        author: author ? `${author.firstname} ${author.patronymic ? author.patronymic : ' '} ${author.lastname} \n        (${author.birthdate ? author.birthdate.substring(0, 4) : '???'} - \n            ${author.deathdate ? author.deathdate.substring(0, 4) : 'н.в.'})` : 'Неизвестный автор',\n        country: row.country,\n        price: Number(row.price),\n        url: row.imageurl,\n        description: row.description,\n        addedToCart: row.addedtocart || false,\n        addedAmount: row.addedamount || 0,\n        isFavorite: row.isfavorite || false\n      };\n\n      setBook(mapped);\n    } catch (err) {\n      console.error(\"Ошибка при загрузке:\", err);\n      setError(err.message);\n    }\n  };\n\n  fetchBook();\n}, [id]);\n\n\n  useEffect(() => {\n  const fetchReviews = async () => {\n    try {\n      if (!id) return;\n      const { data } = await axios.get(`http://localhost:5000/api/reviews/book/${id}`);\n      setReviews(Array.isArray(data) ? data : []);\n    } catch (err) {\n      console.error('Ошибка при загрузке отзывов:', err);\n      setReviewsError('Не удалось загрузить отзывы');\n    }\n  };\n\n  fetchReviews();\n}, [id]);\n\n  const handleSubmitReview = async (e) => {\n    e.preventDefault();\n    if (!book) return;\n    const storedUserString = localStorage.getItem('user');\n    const storedUser = storedUserString ? JSON.parse(storedUserString) : null;\n    if (!storedUser?.id_user) {\n      setReviewsError('Для отправки отзыва необходимо войти в систему');\n      return;\n    }\n\n    try {\n      setIsSubmittingReview(true);\n      setReviewsError(null);\n      await axios.post('http://localhost:5000/api/reviews', {\n        user_id: storedUser.id_user,\n        book_id: book.id,\n        rating: Number(rating),\n        usercomment: comment\n      });\n\n      const { data } = await axios.get(`http://localhost:5000/api/reviews/book/${book.id}`);\n      setReviews(Array.isArray(data) ? data : []);\n      setRating(5);\n      setComment('');\n    } catch (err) {\n      console.error('Ошибка при отправке отзыва:', err);\n      setReviewsError('Не удалось отправить отзыв');\n    } finally {\n      setIsSubmittingReview(false);\n    }\n  };\n\n\n  // корзина\n  const addToCart = () => {\n    if (!book) return;\n    const updated = {\n      ...book,\n      addedToCart: true,\n      addedAmount: (book.addedAmount || 0) + 1\n    };\n\n    setBook(updated);\n    axios.put(`http://localhost:5000/api/books/${book.id}`, updated).catch(console.error);\n  };\n\n  const removeFromCart = () => {\n    if (!book) return;\n    const updatedAmount = Math.max((book.addedAmount || 0) - 1, 0);\n    const updated = {\n      ...book,\n      addedAmount: updatedAmount,\n      addedToCart: updatedAmount > 0\n    };\n\n    setBook(updated);\n    axios.put(`http://localhost:5000/api/books/${book.id}`, updated).catch(console.error);\n  };\n\n  // избранное\n  const toggleFavorite = () => {\n    if (!book) return;\n    const updated = { ...book, isFavorite: !book.isFavorite };\n    setBook(updated);\n    axios.put(`http://localhost:5000/api/books/${book.id}`, updated).catch(console.error);\n  };\n\n  if (error) return <div className='welcome'>Ошибка: {error}</div>;\n  if (!book) return <div className='welcome'>Загрузка...</div>;\n\n  return (\n    <div>\n      <Header title=\"Сведения о книге\" />\n\n      <motion.div\n        className='productInfoCard'\n        initial={{ opacity: 0, scale: 0 }}\n        animate={{ opacity: 1, scale: 1 }}\n        transition={{ delay: 0.5, duration: 1 }}\n      >\n        <img className='prodImg' src={book.url} alt={book.name} />\n\n        <button\n          className={book.isFavorite ? 'favButton2' : 'notFavButton2'}\n          onClick={toggleFavorite}\n        >\n          ❤\n        </button>\n\n        <h2 className='titleProd'>Название: {book.name}</h2>\n        <h2 className='authorProd'>Автор: {book.author}</h2>\n        {book.country && <h2 className='countryProd'>Страна: {book.country}</h2>}\n\n        <div className='buttons2'>\n          <button className='cartButton' onClick={addToCart}>+</button>\n          <span className='amount'>{book.addedAmount}</span>\n          <button className='cartButton' onClick={removeFromCart}>-</button>\n        </div>\n\n        <p className='descrProd'>{book.description}</p>\n      </motion.div>\n\n      <div className='reviewsSection'>\n        <h3>Отзывы</h3>\n        {reviewsError && <div className='error'>{reviewsError}</div>}\n        {reviews.length === 0 ? (\n          <p>Пока нет отзывов.</p>\n        ) : (\n        <FormWrapper\n          onSubmit={handleSubmitReview}\n          loading={isSubmittingReview}\n          error={reviewsError || ''}\n          submitLabel=\"Отправить отзыв\"\n          loadingLabel=\"Отправка...\"\n          formClassName='reviewForm'\n          buttonClassName='reviewSubmitButton'\n          errorClassName='error'\n        >\n          <label className='formLabel'>\n            Оценка:\n            <select value={rating} onChange={(e) => setRating(e.target.value)} disabled={isSubmittingReview}>\n              <option value={5}>5</option>\n              <option value={4}>4</option>\n              <option value={3}>3</option>\n              <option value={2}>2</option>\n              <option value={1}>1</option>\n            </select>\n          </label>\n          <label className='formLabel'>Комментарий</label>\n          <textarea className='formInput'\n            value={comment}\n            onChange={(e) => setComment(e.target.value)}\n            placeholder='Поделитесь впечатлением о книге'\n            rows={4}\n            disabled={isSubmittingReview}\n          />\n        </FormWrapper>)}\n      </div>\n\n      <motion.div\n        initial={{ y: 1000 }}\n        animate={{ y: 0 }}\n        transition={{ duration: 1.5 }}\n      >\n        <Footer />\n      </motion.div>\n    </div>\n  );\n};\n\nexport default ProductInfo;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}