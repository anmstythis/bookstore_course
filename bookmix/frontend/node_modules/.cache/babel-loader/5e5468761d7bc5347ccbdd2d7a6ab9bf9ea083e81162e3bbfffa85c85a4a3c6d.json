{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\My\\\\OneDrive\\\\\\u0414\\u043E\\u043A\\u0443\\u043C\\u0435\\u043D\\u0442\\u044B\\\\\\u043A\\u043E\\u043D\\u0441\\u043F\\u0435\\u043A\\u0442\\u044B\\\\\\u0434\\u043E\\u043A\\u0443\\u043C\\u0435\\u043D\\u0442\\u044B \\u043A \\u043A\\u0443\\u0440\\u0441\\u0430\\u0447\\u0443 4 \\u043A\\u0443\\u0440\\u0441\\\\project\\\\bookmix\\\\src\\\\pages\\\\Catalogue.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport Header from '../components/Header.js';\nimport Footer from '../components/Footer.js';\nimport CardItem from '../components/CardItem.js';\nimport { motion } from \"framer-motion\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Catalogue = () => {\n  _s();\n  const [searchTerm, setSearchTerm] = useState('');\n  const [categories, setCategories] = useState([]);\n  const [books, setBooks] = useState([]);\n  const becomeFavorite = id => console.log(\"Избранное:\", id);\n  const addToCart = id => console.log(\"Добавлено в корзину:\", id);\n  const removeFromCart = id => console.log(\"Удалено из корзины:\", id);\n  const changePrice = true;\n  useEffect(() => {\n    axios.get('http://localhost:5000/api/categories').then(res => {\n      console.log(\"Категории:\", res.data);\n      setCategories(res.data || []);\n    }).catch(err => console.log(\"Ошибка категорий:\", err));\n    axios.get('http://localhost:5000/api/books').then(res => {\n      console.log(\"Книги:\", res.data);\n      setBooks(res.data || []);\n    }).catch(err => console.log(\"Ошибка книг:\", err));\n  }, []);\n  const handleSearchChange = e => {\n    setSearchTerm(e.target.value);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(Header, {\n      title: \"\\u041A\\u0430\\u0442\\u0430\\u043B\\u043E\\u0433\",\n      description: \"\\u0417\\u0434\\u0435\\u0441\\u044C \\u0432\\u044B \\u043D\\u0430\\u0439\\u0434\\u0435\\u0442\\u0435 \\u0432\\u0441\\u0435 \\u043F\\u0440\\u043E\\u0438\\u0437\\u0432\\u0435\\u0434\\u0435\\u043D\\u0438\\u044F!\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"cataloguePage\",\n      children: [/*#__PURE__*/_jsxDEV(motion.div, {\n        className: \"listBooks\",\n        initial: {\n          opacity: 0\n        },\n        animate: {\n          opacity: 1\n        },\n        transition: {\n          delay: 0.5,\n          duration: 1.5\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"findPanel\",\n          id: \"search\",\n          type: \"text\",\n          value: searchTerm,\n          onChange: handleSearchChange,\n          placeholder: \"\\u041F\\u043E\\u0438\\u0441\\u043A \\u043F\\u043E \\u043D\\u0430\\u0437\\u0432\\u0430\\u043D\\u0438\\u044E \\u043A\\u043D\\u0438\\u0433\\u0438...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n          children: categories.map(cat => /*#__PURE__*/_jsxDEV(\"li\", {\n            className: \"redirect\",\n            children: /*#__PURE__*/_jsxDEV(\"a\", {\n              className: \"redirect\",\n              href: `#cat-${cat.id_category}`,\n              children: cat.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 62,\n              columnNumber: 17\n            }, this)\n          }, cat.id_category, false, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(motion.div, {\n        initial: {\n          x: 1000,\n          opacity: 0\n        },\n        animate: {\n          x: 0,\n          opacity: 1\n        },\n        transition: {\n          delay: 0.5,\n          duration: 1.5\n        },\n        children: categories.map(cat => {\n          // фильтрация книг по категории\n          const filteredBooks = books.filter(b => b.category_id === cat.id_category && b.title.toLowerCase().includes(searchTerm.toLowerCase()));\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            id: `cat-${cat.id_category}`,\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"categoryTitle\",\n              children: cat.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 83,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"cardsContainer\",\n              children: filteredBooks.length > 0 ? filteredBooks.map(item => /*#__PURE__*/_jsxDEV(CardItem, {\n                item: item,\n                becomeFavorite: becomeFavorite,\n                addToCart: addToCart,\n                removeFromCart: removeFromCart,\n                changePrice: changePrice\n              }, item.id, false, {\n                fileName: _jsxFileName,\n                lineNumber: 87,\n                columnNumber: 23\n              }, this)) : /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"noBooks\",\n                children: \"\\u041D\\u0435\\u0442 \\u043A\\u043D\\u0438\\u0433 \\u0432 \\u044D\\u0442\\u043E\\u0439 \\u043A\\u0430\\u0442\\u0435\\u0433\\u043E\\u0440\\u0438\\u0438\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 97,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 84,\n              columnNumber: 17\n            }, this)]\n          }, cat.id_category, true, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 15\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 39,\n    columnNumber: 5\n  }, this);\n};\n_s(Catalogue, \"1Szi1QVQbZkFRtqhf8CIZflTuyI=\");\n_c = Catalogue;\nexport default Catalogue;\nvar _c;\n$RefreshReg$(_c, \"Catalogue\");","map":{"version":3,"names":["React","useEffect","useState","axios","Header","Footer","CardItem","motion","jsxDEV","_jsxDEV","Catalogue","_s","searchTerm","setSearchTerm","categories","setCategories","books","setBooks","becomeFavorite","id","console","log","addToCart","removeFromCart","changePrice","get","then","res","data","catch","err","handleSearchChange","e","target","value","children","title","description","fileName","_jsxFileName","lineNumber","columnNumber","className","div","initial","opacity","animate","transition","delay","duration","type","onChange","placeholder","map","cat","href","id_category","name","x","filteredBooks","filter","b","category_id","toLowerCase","includes","length","item","_c","$RefreshReg$"],"sources":["C:/Users/My/OneDrive/Документы/конспекты/документы к курсачу 4 курс/project/bookmix/src/pages/Catalogue.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport Header from '../components/Header.js';\nimport Footer from '../components/Footer.js';\nimport CardItem from '../components/CardItem.js';\nimport { motion } from \"framer-motion\";\n\nconst Catalogue = () => {\n  const [searchTerm, setSearchTerm] = useState('');\n  const [categories, setCategories] = useState([]);\n  const [books, setBooks] = useState([]);\n\n  const becomeFavorite = (id) => console.log(\"Избранное:\", id);\n  const addToCart = (id) => console.log(\"Добавлено в корзину:\", id);\n  const removeFromCart = (id) => console.log(\"Удалено из корзины:\", id);\n  const changePrice = true;\n\n  useEffect(() => {\n    axios.get('http://localhost:5000/api/categories')\n      .then(res => {\n        console.log(\"Категории:\", res.data);\n        setCategories(res.data || []);\n      })\n      .catch(err => console.log(\"Ошибка категорий:\", err));\n\n    axios.get('http://localhost:5000/api/books')\n      .then(res => {\n        console.log(\"Книги:\", res.data);\n        setBooks(res.data || []);\n      })\n      .catch(err => console.log(\"Ошибка книг:\", err));\n  }, []);\n\n  const handleSearchChange = (e) => {\n    setSearchTerm(e.target.value);\n  };\n\n  return (\n    <div>\n      <Header\n        title=\"Каталог\"\n        description=\"Здесь вы найдете все произведения!\"\n      />\n      <div className='cataloguePage'>\n        <motion.div className='listBooks'\n          initial={{ opacity: 0 }}\n          animate={{ opacity: 1 }}\n          transition={{ delay: 0.5, duration: 1.5 }}\n        >\n          <input\n            className='findPanel'\n            id=\"search\"\n            type='text'\n            value={searchTerm}\n            onChange={handleSearchChange}\n            placeholder='Поиск по названию книги...'\n          />\n\n          <ul>\n            {categories.map(cat => (\n              <li key={cat.id_category} className='redirect'>\n                <a className='redirect' href={`#cat-${cat.id_category}`}>{cat.name}</a>\n              </li>\n            ))}\n          </ul>\n        </motion.div>\n\n        <motion.div\n          initial={{ x: 1000, opacity: 0 }}\n          animate={{ x: 0, opacity: 1 }}\n          transition={{ delay: 0.5, duration: 1.5 }}\n        >\n          {categories.map(cat => {\n            // фильтрация книг по категории\n            const filteredBooks = books.filter(\n              b =>\n                b.category_id === cat.id_category &&\n                b.title.toLowerCase().includes(searchTerm.toLowerCase())\n            );\n\n            return (\n              <div key={cat.id_category} id={`cat-${cat.id_category}`}>\n                <h2 className='categoryTitle'>{cat.name}</h2>\n                <div className='cardsContainer'>\n                  {filteredBooks.length > 0 ? (\n                    filteredBooks.map(item => (\n                      <CardItem\n                        key={item.id}\n                        item={item}\n                        becomeFavorite={becomeFavorite}\n                        addToCart={addToCart}\n                        removeFromCart={removeFromCart}\n                        changePrice={changePrice}\n                      />\n                    ))\n                  ) : (\n                    <p className='noBooks'>Нет книг в этой категории</p>\n                  )}\n                </div>\n              </div>\n            );\n          })}\n        </motion.div>\n      </div>\n      <Footer />\n    </div>\n  );\n};\n\nexport default Catalogue;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}