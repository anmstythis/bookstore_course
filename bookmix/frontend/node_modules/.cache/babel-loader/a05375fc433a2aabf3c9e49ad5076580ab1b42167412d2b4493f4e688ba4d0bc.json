{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\My\\\\OneDrive\\\\\\u0414\\u043E\\u043A\\u0443\\u043C\\u0435\\u043D\\u0442\\u044B\\\\\\u043A\\u043E\\u043D\\u0441\\u043F\\u0435\\u043A\\u0442\\u044B\\\\\\u0434\\u043E\\u043A\\u0443\\u043C\\u0435\\u043D\\u0442\\u044B \\u043A \\u043A\\u0443\\u0440\\u0441\\u0430\\u0447\\u0443 4 \\u043A\\u0443\\u0440\\u0441\\\\project\\\\bookmix\\\\src\\\\pages\\\\Reports.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport api from \"../axiosSetup.js\";\nimport Header from \"../components/Header.js\";\nimport { Bar, Pie } from \"react-chartjs-2\";\nimport { Chart as ChartJS, CategoryScale, LinearScale, BarElement, ArcElement, Title, Tooltip, Legend } from \"chart.js\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nChartJS.register(CategoryScale, LinearScale, BarElement, ArcElement, Title, Tooltip, Legend);\nconst Reports = () => {\n  _s();\n  const [topBooks, setTopBooks] = useState([]);\n  const [topUsers, setTopUsers] = useState([]);\n  const [sales, setSales] = useState([]);\n  const [booksByCategory, setBooksByCategory] = useState([]);\n  useEffect(() => {\n    Promise.all([api.get(\"/reports/top-books-view\"), api.get(\"/reports/top-users-view\"), api.get(\"/reports/orderdetails-view\"), api.get(\"/reports/books-view\")]).then(([booksRes, usersRes, orderDetailsRes, booksViewRes]) => {\n      const books = booksRes.data || [];\n      const users = usersRes.data || [];\n      const orderDetails = orderDetailsRes.data || [];\n      const booksView = booksViewRes.data || [];\n      const formattedBooks = books.slice(0, 10).map(b => ({\n        title: b[\"Название книги\"] || \"Неизвестно\",\n        sold: parseInt(b[\"Кол-во отзывов\"] || 0)\n      }));\n      setTopBooks(formattedBooks);\n      const formattedUsers = users.map(u => ({\n        user: u.username || \"Неизвестно\",\n        total_spent: parseFloat(u.total_spent || 0)\n      })).sort((a, b) => b.total_spent - a.total_spent).slice(0, 10);\n      setTopUsers(formattedUsers);\n      const formattedSales = orderDetails.map(od => ({\n        id: od[\"Код детали\"],\n        order_id: od[\"Код заказа\"],\n        book: od[\"Книга\"],\n        quantity: od[\"Кол-во\"],\n        unit_price: od[\"Цена за единицу\"],\n        total: parseFloat(od[\"Цена за единицу\"] || 0) * parseInt(od[\"Кол-во\"] || 0)\n      }));\n      setSales(formattedSales);\n      const categoryMap = {};\n      booksView.forEach(book => {\n        const category = book[\"Категория\"] || \"Без категории\";\n        categoryMap[category] = (categoryMap[category] || 0) + 1;\n      });\n      const formattedCategories = Object.entries(categoryMap).map(([category, count]) => ({\n        category,\n        count\n      }));\n      setBooksByCategory(formattedCategories);\n    }).catch(err => console.error(\"Ошибка загрузки данных:\", err));\n  }, []);\n\n  //экспорт в csv\n  const exportCSV = (data, filename) => {\n    if (!Array.isArray(data) || data.length === 0) return;\n    const csv = [Object.keys(data[0]).join(\",\"), ...data.map(row => Object.values(row).map(v => `\"${String(v).replace(/\"/g, '\"\"')}\"`).join(\",\"))].join(\"\\n\");\n    const BOM = \"\\uFEFF\";\n    const blob = new Blob([BOM + csv], {\n      type: \"text/csv;charset=utf-8;\"\n    });\n    const url = URL.createObjectURL(blob);\n    const a = document.createElement(\"a\");\n    a.href = url;\n    a.download = filename;\n    a.click();\n    URL.revokeObjectURL(url);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"reports-container\",\n    children: [/*#__PURE__*/_jsxDEV(Header, {\n      title: \"\\u0410\\u043D\\u0430\\u043B\\u0438\\u0442\\u0438\\u043A\\u0430 \\u043F\\u0440\\u043E\\u0434\\u0430\\u0436\",\n      description: \"\\u0422\\u043E\\u043F \\u043A\\u043D\\u0438\\u0433, \\u043F\\u043E\\u043A\\u0443\\u043F\\u0430\\u0442\\u0435\\u043B\\u0435\\u0439 \\u0438 \\u0440\\u0430\\u0441\\u043F\\u0440\\u0435\\u0434\\u0435\\u043B\\u0435\\u043D\\u0438\\u0435 \\u043A\\u043D\\u0438\\u0433 \\u043F\\u043E \\u043A\\u0430\\u0442\\u0435\\u0433\\u043E\\u0440\\u0438\\u044F\\u043C. \\u0412\\u043E\\u0437\\u043C\\u043E\\u0436\\u0435\\u043D \\u044D\\u043A\\u0441\\u043F\\u043E\\u0440\\u0442 \\u0432\\u0441\\u0435\\u0445 \\u043F\\u0440\\u043E\\u0434\\u0430\\u0436 \\u0432 CSV.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"chart-card\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"chart-title\",\n          children: \"\\u0422\\u043E\\u043F \\u043A\\u043D\\u0438\\u0433 \\u043F\\u043E \\u043E\\u0442\\u0437\\u044B\\u0432\\u0430\\u043C\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"chart-wrapper-small\",\n          children: /*#__PURE__*/_jsxDEV(Pie, {\n            data: {\n              labels: topBooks.map(b => b.title),\n              datasets: [{\n                label: \"Кол-во отзывов\",\n                data: topBooks.map(b => b.sold),\n                backgroundColor: [\"#FF6384\", \"#36A2EB\", \"#FFCE56\", \"#4BC0C0\", \"#9966FF\", \"#FF9F40\", \"#C9CBCF\"],\n                borderColor: \"#4d4431\",\n                borderWidth: 2\n              }]\n            },\n            options: {\n              responsive: true,\n              maintainAspectRatio: false,\n              plugins: {\n                legend: {\n                  display: true,\n                  position: \"bottom\",\n                  labels: {\n                    color: \"#1D1C1A\",\n                    boxWidth: 14,\n                    font: {\n                      family: \"Georgia, Times, serif\",\n                      size: 14\n                    }\n                  }\n                },\n                tooltip: {\n                  callbacks: {\n                    label: context => `${context.label}: ${context.parsed} отзывов`\n                  }\n                }\n              }\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 115,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"chart-card\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"chart-title\",\n          children: \"\\u0422\\u043E\\u043F \\u043F\\u043E\\u043B\\u044C\\u0437\\u043E\\u0432\\u0430\\u0442\\u0435\\u043B\\u0435\\u0439 \\u043F\\u043E \\u0441\\u0443\\u043C\\u043C\\u0435 \\u043F\\u043E\\u043A\\u0443\\u043F\\u043E\\u043A\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 165,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"chart-wrapper\",\n          children: /*#__PURE__*/_jsxDEV(Bar, {\n            data: {\n              labels: topUsers.map(u => u.user),\n              datasets: [{\n                label: \"Сумма покупок (₽)\",\n                data: topUsers.map(u => u.total_spent),\n                backgroundColor: \"#4BC0C0\"\n              }]\n            },\n            options: {\n              responsive: true,\n              maintainAspectRatio: false,\n              plugins: {\n                legend: {\n                  labels: {\n                    color: \"#1D1C1A\",\n                    boxWidth: 14,\n                    font: {\n                      family: \"Georgia, Times, serif\",\n                      size: 18\n                    }\n                  }\n                }\n              },\n              scales: {\n                x: {\n                  ticks: {\n                    autoSkip: false,\n                    maxRotation: 45,\n                    minRotation: 45,\n                    color: \"#1D1C1A\",\n                    font: {\n                      family: \"Georgia, Times, serif\",\n                      size: 14\n                    }\n                  }\n                },\n                y: {\n                  ticks: {\n                    color: \"#1D1C1A\",\n                    font: {\n                      family: \"Georgia, Times, serif\",\n                      size: 14\n                    }\n                  }\n                }\n              }\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 167,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 166,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"chart-title\",\n          children: \"\\u041A\\u043E\\u043B\\u0438\\u0447\\u0435\\u0441\\u0442\\u0432\\u043E \\u043A\\u043D\\u0438\\u0433 \\u043F\\u043E \\u043A\\u0430\\u0442\\u0435\\u0433\\u043E\\u0440\\u0438\\u044F\\u043C\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 222,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"chart-wrapper\",\n          children: /*#__PURE__*/_jsxDEV(Bar, {\n            data: {\n              labels: booksByCategory.map(c => c.category),\n              datasets: [{\n                label: \"Количество книг\",\n                data: booksByCategory.map(c => c.count),\n                backgroundColor: \"#FF6384\"\n              }]\n            },\n            options: {\n              responsive: true,\n              maintainAspectRatio: false,\n              plugins: {\n                legend: {\n                  display: false\n                }\n              },\n              scales: {\n                x: {\n                  ticks: {\n                    autoSkip: false,\n                    maxRotation: 45,\n                    minRotation: 45,\n                    color: \"#1D1C1A\",\n                    font: {\n                      family: \"Georgia, Times, serif\",\n                      size: 14\n                    }\n                  }\n                },\n                y: {\n                  ticks: {\n                    color: \"#1D1C1A\",\n                    font: {\n                      family: \"Georgia, Times, serif\",\n                      size: 14\n                    }\n                  }\n                }\n              }\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 224,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 223,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 221,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"formButton\",\n        onClick: () => exportCSV(sales, \"sales_report.csv\"),\n        children: \"\\u042D\\u043A\\u0441\\u043F\\u043E\\u0440\\u0442\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C \\u043F\\u0440\\u043E\\u0434\\u0430\\u0436\\u0438 (CSV)\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 269,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 268,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 105,\n    columnNumber: 5\n  }, this);\n};\n_s(Reports, \"JmXL8MeQvtiDSLFepgUSbG+2NDs=\");\n_c = Reports;\nexport default Reports;\nvar _c;\n$RefreshReg$(_c, \"Reports\");","map":{"version":3,"names":["React","useEffect","useState","api","Header","Bar","Pie","Chart","ChartJS","CategoryScale","LinearScale","BarElement","ArcElement","Title","Tooltip","Legend","jsxDEV","_jsxDEV","register","Reports","_s","topBooks","setTopBooks","topUsers","setTopUsers","sales","setSales","booksByCategory","setBooksByCategory","Promise","all","get","then","booksRes","usersRes","orderDetailsRes","booksViewRes","books","data","users","orderDetails","booksView","formattedBooks","slice","map","b","title","sold","parseInt","formattedUsers","u","user","username","total_spent","parseFloat","sort","a","formattedSales","od","id","order_id","book","quantity","unit_price","total","categoryMap","forEach","category","formattedCategories","Object","entries","count","catch","err","console","error","exportCSV","filename","Array","isArray","length","csv","keys","join","row","values","v","String","replace","BOM","blob","Blob","type","url","URL","createObjectURL","document","createElement","href","download","click","revokeObjectURL","className","children","description","fileName","_jsxFileName","lineNumber","columnNumber","labels","datasets","label","backgroundColor","borderColor","borderWidth","options","responsive","maintainAspectRatio","plugins","legend","display","position","color","boxWidth","font","family","size","tooltip","callbacks","context","parsed","scales","x","ticks","autoSkip","maxRotation","minRotation","y","c","onClick","_c","$RefreshReg$"],"sources":["C:/Users/My/OneDrive/Документы/конспекты/документы к курсачу 4 курс/project/bookmix/src/pages/Reports.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport api from \"../axiosSetup.js\";\r\nimport Header from \"../components/Header.js\";\r\nimport { Bar, Pie } from \"react-chartjs-2\";\r\nimport {\r\n  Chart as ChartJS,\r\n  CategoryScale,\r\n  LinearScale,\r\n  BarElement,\r\n  ArcElement,\r\n  Title,\r\n  Tooltip,\r\n  Legend,\r\n} from \"chart.js\";\r\n\r\nChartJS.register(CategoryScale, LinearScale, BarElement, ArcElement, Title, Tooltip, Legend);\r\n\r\nconst Reports = () => {\r\n  const [topBooks, setTopBooks] = useState([]);\r\n  const [topUsers, setTopUsers] = useState([]);\r\n  const [sales, setSales] = useState([]);\r\n  const [booksByCategory, setBooksByCategory] = useState([]); \r\n\r\n  useEffect(() => {\r\n    Promise.all([\r\n      api.get(\"/reports/top-books-view\"),\r\n      api.get(\"/reports/top-users-view\"),\r\n      api.get(\"/reports/orderdetails-view\"),\r\n      api.get(\"/reports/books-view\"),\r\n    ])\r\n      .then(([booksRes, usersRes, orderDetailsRes, booksViewRes]) => {\r\n        const books = booksRes.data || [];\r\n        const users = usersRes.data || [];\r\n        const orderDetails = orderDetailsRes.data || [];\r\n        const booksView = booksViewRes.data || [];\r\n\r\n        const formattedBooks = books\r\n          .slice(0, 10)\r\n          .map((b) => ({\r\n            title: b[\"Название книги\"] || \"Неизвестно\",\r\n            sold: parseInt(b[\"Кол-во отзывов\"] || 0),\r\n          }));\r\n        setTopBooks(formattedBooks);\r\n\r\n        const formattedUsers = users\r\n          .map((u) => ({\r\n            user: u.username || \"Неизвестно\",\r\n            total_spent: parseFloat(u.total_spent || 0),\r\n          }))\r\n          .sort((a, b) => b.total_spent - a.total_spent)\r\n          .slice(0, 10);\r\n        setTopUsers(formattedUsers);\r\n\r\n        const formattedSales = orderDetails.map((od) => ({\r\n          id: od[\"Код детали\"],\r\n          order_id: od[\"Код заказа\"],\r\n          book: od[\"Книга\"],\r\n          quantity: od[\"Кол-во\"],\r\n          unit_price: od[\"Цена за единицу\"],\r\n          total:\r\n            parseFloat(od[\"Цена за единицу\"] || 0) * parseInt(od[\"Кол-во\"] || 0),\r\n        }));\r\n        setSales(formattedSales);\r\n\r\n        const categoryMap = {};\r\n        booksView.forEach((book) => {\r\n          const category = book[\"Категория\"] || \"Без категории\";\r\n          categoryMap[category] = (categoryMap[category] || 0) + 1;\r\n        });\r\n        const formattedCategories = Object.entries(categoryMap).map(\r\n          ([category, count]) => ({ category, count })\r\n        );\r\n        setBooksByCategory(formattedCategories);\r\n      })\r\n      .catch((err) => console.error(\"Ошибка загрузки данных:\", err));\r\n  }, []);\r\n\r\n\r\n  //экспорт в csv\r\n  const exportCSV = (data, filename) => {\r\n    if (!Array.isArray(data) || data.length === 0) return;\r\n\r\n    const csv = [\r\n      Object.keys(data[0]).join(\",\"),\r\n      ...data.map((row) =>\r\n        Object.values(row)\r\n          .map((v) => `\"${String(v).replace(/\"/g, '\"\"')}\"`) \r\n          .join(\",\")\r\n      ),\r\n    ].join(\"\\n\");\r\n\r\n    const BOM = \"\\uFEFF\";\r\n    const blob = new Blob([BOM + csv], { type: \"text/csv;charset=utf-8;\" });\r\n\r\n    const url = URL.createObjectURL(blob);\r\n    const a = document.createElement(\"a\");\r\n    a.href = url;\r\n    a.download = filename;\r\n    a.click();\r\n    URL.revokeObjectURL(url);\r\n  };\r\n\r\n\r\n  return (\r\n    <div className=\"reports-container\">\r\n      <Header\r\n        title=\"Аналитика продаж\"\r\n        description=\"Топ книг, покупателей и распределение книг по категориям. Возможен экспорт всех продаж в CSV.\"\r\n      />\r\n\r\n      <div>\r\n        <div className=\"chart-card\">\r\n          <h3 className=\"chart-title\">Топ книг по отзывам</h3>\r\n          <div className=\"chart-wrapper-small\">\r\n            <Pie\r\n              data={{\r\n                labels: topBooks.map((b) => b.title),\r\n                datasets: [\r\n                  {\r\n                    label: \"Кол-во отзывов\",\r\n                    data: topBooks.map((b) => b.sold),\r\n                    backgroundColor: [\r\n                      \"#FF6384\",\r\n                      \"#36A2EB\",\r\n                      \"#FFCE56\",\r\n                      \"#4BC0C0\",\r\n                      \"#9966FF\",\r\n                      \"#FF9F40\",\r\n                      \"#C9CBCF\",\r\n                    ],\r\n                    borderColor: \"#4d4431\",\r\n                    borderWidth: 2,\r\n                  },\r\n                ],\r\n              }}\r\n              options={{\r\n                responsive: true,\r\n                maintainAspectRatio: false,\r\n                plugins: {\r\n                  legend: {\r\n                    display: true,\r\n                    position: \"bottom\",\r\n                    labels: { \r\n                      color: \"#1D1C1A\",\r\n                      boxWidth: 14, \r\n                      font: { \r\n                        family: \"Georgia, Times, serif\",\r\n                        size: 14\r\n                      } \r\n                    },\r\n                  },\r\n                  tooltip: {\r\n                    callbacks: {\r\n                      label: (context) =>\r\n                        `${context.label}: ${context.parsed} отзывов`,\r\n                    },\r\n                  },\r\n                },\r\n              }}\r\n            />\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"chart-card\">\r\n          <h3 className=\"chart-title\">Топ пользователей по сумме покупок</h3>\r\n          <div className=\"chart-wrapper\">\r\n            <Bar\r\n              data={{\r\n                labels: topUsers.map((u) => u.user),\r\n                datasets: [\r\n                  {\r\n                    label: \"Сумма покупок (₽)\",\r\n                    data: topUsers.map((u) => u.total_spent),\r\n                    backgroundColor: \"#4BC0C0\",\r\n                  },\r\n                ],\r\n              }}\r\n              options={{\r\n                responsive: true,\r\n                maintainAspectRatio: false,\r\n                plugins: { \r\n                  legend: { \r\n                    labels: {\r\n                        color: \"#1D1C1A\", \r\n                        boxWidth: 14,\r\n                        font: {\r\n                          family: \"Georgia, Times, serif\",\r\n                          size: 18, \r\n                        },\r\n                      },\r\n                  } \r\n                },\r\n                scales: {\r\n                  x: {\r\n                    ticks: { \r\n                      autoSkip: false, \r\n                      maxRotation: 45, \r\n                      minRotation: 45,\r\n                      color: \"#1D1C1A\", \r\n                      font: {\r\n                        family: \"Georgia, Times, serif\",\r\n                        size: 14,\r\n                      },\r\n                    },\r\n                  },\r\n                  y: {\r\n                    ticks: {\r\n                      color: \"#1D1C1A\",\r\n                      font: {\r\n                        family: \"Georgia, Times, serif\",\r\n                        size: 14,\r\n                      },\r\n                    },\r\n                  }\r\n                },\r\n              }}\r\n            />\r\n          </div>\r\n        </div>\r\n\r\n        <div>\r\n          <h3 className=\"chart-title\">Количество книг по категориям</h3>\r\n          <div className=\"chart-wrapper\">\r\n            <Bar\r\n              data={{\r\n                labels: booksByCategory.map((c) => c.category),\r\n                datasets: [\r\n                  {\r\n                    label: \"Количество книг\",\r\n                    data: booksByCategory.map((c) => c.count),\r\n                    backgroundColor: \"#FF6384\",\r\n                  },\r\n                ],\r\n              }}\r\n              options={{\r\n                responsive: true,\r\n                maintainAspectRatio: false,\r\n                plugins: { legend: { display: false } },\r\n                scales: {\r\n                  x: {\r\n                    ticks: { \r\n                      autoSkip: false, \r\n                      maxRotation: 45, \r\n                      minRotation: 45,\r\n                      color: \"#1D1C1A\", \r\n                      font: {\r\n                        family: \"Georgia, Times, serif\",\r\n                        size: 14,\r\n                      },\r\n                    },\r\n                  },\r\n                  y: {\r\n                    ticks: {\r\n                      color: \"#1D1C1A\",\r\n                      font: {\r\n                        family: \"Georgia, Times, serif\",\r\n                        size: 14,\r\n                      },\r\n                    },\r\n                  }\r\n                },\r\n              }}\r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div>\r\n        <button\r\n          className=\"formButton\"\r\n          onClick={() => exportCSV(sales, \"sales_report.csv\")}\r\n        >\r\n          Экспортировать продажи (CSV)\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Reports;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}