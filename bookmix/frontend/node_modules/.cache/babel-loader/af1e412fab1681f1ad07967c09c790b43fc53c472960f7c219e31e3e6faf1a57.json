{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\My\\\\OneDrive\\\\\\u0414\\u043E\\u043A\\u0443\\u043C\\u0435\\u043D\\u0442\\u044B\\\\\\u043A\\u043E\\u043D\\u0441\\u043F\\u0435\\u043A\\u0442\\u044B\\\\\\u0434\\u043E\\u043A\\u0443\\u043C\\u0435\\u043D\\u0442\\u044B \\u043A \\u043A\\u0443\\u0440\\u0441\\u0430\\u0447\\u0443 4 \\u043A\\u0443\\u0440\\u0441\\\\project\\\\bookmix\\\\src\\\\pages\\\\Catalogue.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport Header from '../components/Header.js';\nimport Footer from '../components/Footer.js';\nimport CardItem from '../components/CardItem.js';\nimport { motion } from \"framer-motion\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Catalogue = () => {\n  _s();\n  const [searchTerm, setSearchTerm] = useState('');\n  const [categories, setCategories] = useState([]);\n  const [books, setBooks] = useState([]); // üëà –¥–æ–±–∞–≤–∏–ª–∏ –∫–Ω–∏–≥–∏\n\n  useEffect(() => {\n    // –∑–∞–≥—Ä—É–∂–∞–µ–º –∫–∞—Ç–µ–≥–æ—Ä–∏–∏\n    axios.get('http://localhost:5000/api/categories').then(res => setCategories(res.data || [])).catch(err => console.log(\"–û—à–∏–±–∫–∞ –∫–∞—Ç–µ–≥–æ—Ä–∏–π:\", err));\n\n    // –∑–∞–≥—Ä—É–∂–∞–µ–º –∫–Ω–∏–≥–∏\n    axios.get('http://localhost:5000/api/books').then(res => setBooks(res.data || [])).catch(err => console.log(\"–û—à–∏–±–∫–∞ –∫–Ω–∏–≥:\", err));\n  }, []);\n  const handleSearchChange = e => {\n    setSearchTerm(e.target.value);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(Header, {\n      title: \"\\u041A\\u0430\\u0442\\u0430\\u043B\\u043E\\u0433\",\n      description: \"\\u0417\\u0434\\u0435\\u0441\\u044C \\u0432\\u044B \\u043D\\u0430\\u0439\\u0434\\u0435\\u0442\\u0435 \\u0432\\u0441\\u0435 \\u043F\\u0440\\u043E\\u0438\\u0437\\u0432\\u0435\\u0434\\u0435\\u043D\\u0438\\u044F!\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"cataloguePage\",\n      children: [/*#__PURE__*/_jsxDEV(motion.div, {\n        className: \"listBooks\",\n        initial: {\n          opacity: 0\n        },\n        animate: {\n          opacity: 1\n        },\n        transition: {\n          delay: 0.5,\n          duration: 1.5\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"findPanel\",\n          id: \"search\",\n          type: \"text\",\n          value: searchTerm,\n          onChange: handleSearchChange,\n          placeholder: \"\\u041F\\u043E\\u0438\\u0441\\u043A \\u043F\\u043E \\u043D\\u0430\\u0437\\u0432\\u0430\\u043D\\u0438\\u044E \\u043A\\u043D\\u0438\\u0433\\u0438...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n          children: categories.map(cat => /*#__PURE__*/_jsxDEV(\"li\", {\n            className: \"redirect\",\n            children: /*#__PURE__*/_jsxDEV(\"a\", {\n              className: \"redirect\",\n              href: `#cat-${cat.id_category}`,\n              children: cat.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 53,\n              columnNumber: 17\n            }, this)\n          }, cat.id_category, false, {\n            fileName: _jsxFileName,\n            lineNumber: 52,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(motion.div, {\n        initial: {\n          x: 1000,\n          opacity: 0\n        },\n        animate: {\n          x: 0,\n          opacity: 1\n        },\n        transition: {\n          delay: 0.5,\n          duration: 1.5\n        },\n        children: categories.map(cat => {\n          const filteredBooks = books.filter(b => b.category_id === cat.id_category && (b.title || '').toLowerCase().includes(searchTerm.toLowerCase()));\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            id: `cat-${cat.id_category}`,\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"categoryTitle\",\n              children: cat.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 73,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"cardsContainer\",\n              children: filteredBooks.length > 0 ? filteredBooks.map(book => /*#__PURE__*/_jsxDEV(CardItem, {\n                item: {\n                  id: book.id_book,\n                  title: book.title,\n                  author: `${book.lastname || ''} ${book.firstname || ''}`.trim(),\n                  price: book.price,\n                  url: book.imageurl\n                },\n                becomeFavorite: () => console.log(\"–î–æ–±–∞–≤–∏—Ç—å –≤ –∏–∑–±—Ä–∞–Ω–Ω–æ–µ:\", book.id_book),\n                addToCart: () => console.log(\"–î–æ–±–∞–≤–∏—Ç—å –≤ –∫–æ—Ä–∑–∏–Ω—É:\", book.id_book),\n                removeFromCart: () => console.log(\"–£–¥–∞–ª–∏—Ç—å –∏–∑ –∫–æ—Ä–∑–∏–Ω—ã:\", book.id_book),\n                changePrice: false\n              }, book.id_book, false, {\n                fileName: _jsxFileName,\n                lineNumber: 77,\n                columnNumber: 23\n              }, this)) : /*#__PURE__*/_jsxDEV(\"p\", {\n                children: \"\\u041D\\u0435\\u0442 \\u043A\\u043D\\u0438\\u0433 \\u0432 \\u044D\\u0442\\u043E\\u0439 \\u043A\\u0430\\u0442\\u0435\\u0433\\u043E\\u0440\\u0438\\u0438\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 93,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 74,\n              columnNumber: 17\n            }, this)]\n          }, cat.id_category, true, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 15\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 30,\n    columnNumber: 5\n  }, this);\n};\n_s(Catalogue, \"1Szi1QVQbZkFRtqhf8CIZflTuyI=\");\n_c = Catalogue;\nexport default Catalogue;\nvar _c;\n$RefreshReg$(_c, \"Catalogue\");","map":{"version":3,"names":["React","useEffect","useState","axios","Header","Footer","CardItem","motion","jsxDEV","_jsxDEV","Catalogue","_s","searchTerm","setSearchTerm","categories","setCategories","books","setBooks","get","then","res","data","catch","err","console","log","handleSearchChange","e","target","value","children","title","description","fileName","_jsxFileName","lineNumber","columnNumber","className","div","initial","opacity","animate","transition","delay","duration","id","type","onChange","placeholder","map","cat","href","id_category","name","x","filteredBooks","filter","b","category_id","toLowerCase","includes","length","book","item","id_book","author","lastname","firstname","trim","price","url","imageurl","becomeFavorite","addToCart","removeFromCart","changePrice","_c","$RefreshReg$"],"sources":["C:/Users/My/OneDrive/–î–æ–∫—É–º–µ–Ω—Ç—ã/–∫–æ–Ω—Å–ø–µ–∫—Ç—ã/–¥–æ–∫—É–º–µ–Ω—Ç—ã –∫ –∫—É—Ä—Å–∞—á—É 4 –∫—É—Ä—Å/project/bookmix/src/pages/Catalogue.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport Header from '../components/Header.js';\nimport Footer from '../components/Footer.js';\nimport CardItem from '../components/CardItem.js';\nimport { motion } from \"framer-motion\";\n\nconst Catalogue = () => {\n  const [searchTerm, setSearchTerm] = useState('');\n  const [categories, setCategories] = useState([]);\n  const [books, setBooks] = useState([]); // üëà –¥–æ–±–∞–≤–∏–ª–∏ –∫–Ω–∏–≥–∏\n\n  useEffect(() => {\n    // –∑–∞–≥—Ä—É–∂–∞–µ–º –∫–∞—Ç–µ–≥–æ—Ä–∏–∏\n    axios.get('http://localhost:5000/api/categories')\n      .then(res => setCategories(res.data || []))\n      .catch(err => console.log(\"–û—à–∏–±–∫–∞ –∫–∞—Ç–µ–≥–æ—Ä–∏–π:\", err));\n\n    // –∑–∞–≥—Ä—É–∂–∞–µ–º –∫–Ω–∏–≥–∏\n    axios.get('http://localhost:5000/api/books')\n      .then(res => setBooks(res.data || []))\n      .catch(err => console.log(\"–û—à–∏–±–∫–∞ –∫–Ω–∏–≥:\", err));\n  }, []);\n\n  const handleSearchChange = (e) => {\n    setSearchTerm(e.target.value);\n  };\n\n  return (\n    <div>\n      <Header\n        title=\"–ö–∞—Ç–∞–ª–æ–≥\"\n        description=\"–ó–¥–µ—Å—å –≤—ã –Ω–∞–π–¥–µ—Ç–µ –≤—Å–µ –ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è!\"\n      />\n      <div className='cataloguePage'>\n        <motion.div className='listBooks'\n          initial={{ opacity: 0 }}\n          animate={{ opacity: 1 }}\n          transition={{ delay: 0.5, duration: 1.5 }}\n        >\n          <input\n            className='findPanel'\n            id=\"search\"\n            type='text'\n            value={searchTerm}\n            onChange={handleSearchChange}\n            placeholder=\"–ü–æ–∏—Å–∫ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é –∫–Ω–∏–≥–∏...\"\n          />\n\n          <ul>\n            {categories.map(cat => (\n              <li key={cat.id_category} className='redirect'>\n                <a className='redirect' href={`#cat-${cat.id_category}`}>{cat.name}</a>\n              </li>\n            ))}\n          </ul>\n        </motion.div>\n\n        <motion.div\n          initial={{ x: 1000, opacity: 0 }}\n          animate={{ x: 0, opacity: 1 }}\n          transition={{ delay: 0.5, duration: 1.5 }}\n        >\n          {categories.map(cat => {\n            const filteredBooks = books.filter(\n              b =>\n                b.category_id === cat.id_category &&\n                (b.title || '').toLowerCase().includes(searchTerm.toLowerCase())\n            );\n\n            return (\n              <div key={cat.id_category} id={`cat-${cat.id_category}`}>\n                <h2 className=\"categoryTitle\">{cat.name}</h2>\n                <div className=\"cardsContainer\">\n                  {filteredBooks.length > 0 ? (\n                    filteredBooks.map(book => (\n                      <CardItem\n                        key={book.id_book}\n                        item={{\n                          id: book.id_book,\n                          title: book.title,\n                          author: `${book.lastname || ''} ${book.firstname || ''}`.trim(),\n                          price: book.price,\n                          url: book.imageurl,\n                        }}\n                        becomeFavorite={() => console.log(\"–î–æ–±–∞–≤–∏—Ç—å –≤ –∏–∑–±—Ä–∞–Ω–Ω–æ–µ:\", book.id_book)}\n                        addToCart={() => console.log(\"–î–æ–±–∞–≤–∏—Ç—å –≤ –∫–æ—Ä–∑–∏–Ω—É:\", book.id_book)}\n                        removeFromCart={() => console.log(\"–£–¥–∞–ª–∏—Ç—å –∏–∑ –∫–æ—Ä–∑–∏–Ω—ã:\", book.id_book)}\n                        changePrice={false}\n                      />\n                    ))\n                  ) : (\n                    <p>–ù–µ—Ç –∫–Ω–∏–≥ –≤ —ç—Ç–æ–π –∫–∞—Ç–µ–≥–æ—Ä–∏–∏</p>\n                  )}\n                </div>\n              </div>\n            );\n          })}\n        </motion.div>\n      </div>\n      <Footer />\n    </div>\n  );\n};\n\nexport default Catalogue;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}